<div class="tarjeta-credito-container">
  <form [formGroup]="form" (ngSubmit)="agregarTarjeta()">
    <h2>{{ editandoId ? 'Editar Tarjeta' : 'Agregar Nueva Tarjeta' }}</h2>
    <div>
      <label for="titular">Titular</label>
      <input id="titular" formControlName="titular" type="text" />
    </div>
    <div>
      <label for="numeroTarjeta">Número de Tarjeta</label>
      <input id="numeroTarjeta" formControlName="numeroTarjeta" type="text" maxlength="16" />
    </div>
    <div>
      <label for="fechaExpiracion">Fecha de Expiración (MM/AA)</label>
      <input id="fechaExpiracion" formControlName="fechaExpiracion" type="text" maxlength="5" />
    </div>
    <div>
      <label for="cvv">CVV</label>
      <input id="cvv" formControlName="cvv" type="password" maxlength="3" />
    </div>
    <div class="button-group">
      <button type="submit">{{ editandoId ? 'Actualizar Tarjeta' : 'Guardar Tarjeta' }}</button>
      <button *ngIf="editandoId" type="button" class="btn-cancelar" (click)="cancelarEdicion()">Cancelar</button>
    </div>
  </form>
  <div *ngIf="listTarjetas.length > 0" class="tarjetas-list">
    <h3>Tarjetas Registradas</h3>
    <table>
      <thead>
        <tr>
          <th>Titular</th>
          <th>Número de Tarjeta</th>
          <th>Fecha Expiración</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tarjeta of listTarjetas">
          <td>{{ tarjeta.titular }}</td>
          <td>{{ tarjeta.numeroTarjeta }}</td>
          <td>{{ tarjeta.fechaExpiracion }}</td>
          <td>
            <button class="btn-editar" (click)="editarTarjeta(tarjeta)">Editar</button>
            <button class="btn-eliminar" (click)="eliminarTarjeta(tarjeta.id)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div *ngIf="listTarjetas.length === 0" class="sin-tarjetas">
    <p>No hay tarjetas registradas. ¡Agrega una!</p>
  </div>
</div>
